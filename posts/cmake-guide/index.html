<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Jeff Caffrey-Hill">
    <meta name="description" content="Jeff Caffrey-Hill: Software Engineer, blog and portfolio">
    <meta name="keywords" content="blog,developer,personal,portfolio">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="A Beginner&#39;s Guide to CMake"/>
<meta name="twitter:description" content="A walkthrough of how various"/>

    <meta property="og:title" content="A Beginner&#39;s Guide to CMake" />
<meta property="og:description" content="A walkthrough of how various" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://reverentengineer.com/posts/cmake-guide/" />
<meta property="article:published_time" content="2020-05-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-04T00:00:00+00:00" />


    
      <base href="https://reverentengineer.com/posts/cmake-guide/">
    
    <title>
  A Beginner&#39;s Guide to CMake · reverent engineer
</title>

    
      <link rel="canonical" href="https://reverentengineer.com/posts/cmake-guide/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://reverentengineer.com/css/coder.min.28d751104f30c16da1aa1bb04015cbe662cacfe0d1b01af4f2240ad58580069c.css" integrity="sha256-KNdREE8wwW2hqhuwQBXL5mLKz&#43;DRsBr08iQK1YWABpw=" crossorigin="anonymous" media="screen" />
    

    

    

    
      <link rel="stylesheet" href="https://reverentengineer.com/css/custom.css">
    

    <link rel="icon" type="image/png" href="https://reverentengineer.com/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://reverentengineer.com/img/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.59.1" />
  </head>

  <body class=" ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://reverentengineer.com">
      reverent engineer
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://reverentengineer.com/portfolio/">Portfolio</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://github.com/ReverentEngineer">Github</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">A Beginner&#39;s Guide to CMake</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-05-04T00:00:00Z'>
                May 4, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              3 minutes read
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://reverentengineer.com/tags/cmake/">cmake</a>
      <span class="separator">•</span>
    <a href="https://reverentengineer.com/tags/c/">c</a>
      <span class="separator">•</span>
    <a href="https://reverentengineer.com/tags/c&#43;&#43;/">c&#43;&#43;</a>
      <span class="separator">•</span>
    <a href="https://reverentengineer.com/tags/builds/">builds</a></div>

        </div>
      </header>

      <div>
        

<hr />

<h1 id="introduction">Introduction</h1>

<p>According to CMake&rsquo;s own site, &ldquo;CMake is an open-source, cross-platform family of tools designed to build, test and package software.&rdquo; What does that mean for a developer? It means that you can write a platform agnostic description of what should happen at build time and should (hopefully) not have to fret about it not working when you switch from your Linux machine to your Mac or from your Mac to your Windows machine or even just a Linux machine to a Linux machine with libraries installed in different places. Now, this doesn&rsquo;t come completely for free all the time, but it provides the tools to make it more painless.</p>

<h1 id="getting-started">Getting Started</h1>

<p>Based on the fact you&rsquo;re still reading, I&rsquo;ll assume I&rsquo;ve sold you on the idea (or were already sold or you&rsquo;re being forced to use it). I&rsquo;ll take you on a step by step journey of building from a simple project to the complex CMake projects you may find. A CMake project is defined by one or more CMakeLists.txt. There is always a root CMakeList.txt and, as you may or may not have guessed, it is (usually) in the root directory of the project. We&rsquo;ll start of with the simple case of a single CMakeLists.txt and work our way out. The bare minimum a CMake project most contain is a &ldquo;project()&rdquo; function. This is function contains the project name followed by the languages used in the project. For a C project this would be &ldquo;project(MyCoolProject C)&rdquo; or for C++ it would be &ldquo;project(MyCoolProject CXX)&rdquo;. This may or may not be intuitive to some, but it&rsquo;s worth noting that most references to C++ use &ldquo;CXX&rdquo; instead of &ldquo;C++&rdquo;. So what have we got so far:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">project(MyCoolProject C)</pre></div>
<p>Great. We&rsquo;ve officially declared our intent to create a project. Before we go into the important work of declaring how to build our cool project, there&rsquo;s one important piece of house-keeping that&rsquo;s worth mentioning. At the top of most CMake projects, you&rsquo;ll notice a directive like <code>cmake_minimum_required(VERSION 2.8)</code>. This is important for compatibility reasons. If you&rsquo;re quite sure you and/or your collaborators are always going to be in sync with regard to your CMake version, you might be able to get away without this. Otherwise, my advice is to declare the lowest version you can get away with in order to ensure compatibility. There are some nice features in later versions, but 2.8 on it&rsquo;s own is nice enough for most of my projects. So here we are:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">cmake_minimum_required(VERSION 2.8)

project(MyCoolProject C)</pre></div>
<h1 id="creating-an-executable">Creating An Executable</h1>

<p>Let&rsquo;s say your project involves creating an application named <code>my_cool_project</code> that will needs to be run with only a single source file named <code>main.c</code>. Directing CMake to build said executable is easy as <code>add_executable(my_cool_project main.c)</code> The first parameter is always name of th executable followed by all the source files. If you want to add another file called <code>myfunctions.c</code> then you would change it to <code>add_executable(my_cool_project main.c myfunctions.c)</code>.</p>

<h1 id="advanced-topics">Advanced Topics</h1>

<p>The following are a few more advanced topics or notes that I&rsquo;ve run across that might be useful to those who need to get into the details of how CMake works.</p>

<h2 id="compile-time-details">Compile Time Details</h2>

<p>To the extent I&rsquo;ve found, CMake does not provide a way to compile sources into a single object rather than compiling the source files into objects and combining them. This is a little unfortunate for</p>

      </div>

      <footer>
        


        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
     © 2020
    
       · 
      Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
    
  </section>
</footer>

    </main>

    

  </body>

</html>
